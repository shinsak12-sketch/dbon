generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Region {
  id     Int     @id @default(autoincrement())
  name   String
  slug   String  @unique
  places Place[]
}

model Place {
  id           Int      @id @default(autoincrement())
  name         String
  slug         String   @unique
  region       Region   @relation(fields: [regionId], references: [id])
  regionId     Int
  avgRating    Float    @default(0)
  reviewsCount Int      @default(0)
  reviews      Review[]
}

model Review {
  id        Int      @id @default(autoincrement())
  place     Place    @relation(fields: [placeId], references: [id])
  placeId   Int
  rating    Float
  content   String
  author    String?     // 닉네임
  imageUrl  String?     // 이미지 URL
  pin       String?     // 수정/삭제용 비밀번호
  createdAt DateTime @default(now())
}
